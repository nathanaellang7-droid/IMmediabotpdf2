<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ðŸ“š IMmedia PDF Generator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

<style>
/* ===== GLOBAL ===== */
*{
  box-sizing:border-box;
}

body{
  margin:0;
  font-family:Arial, Helvetica, sans-serif;
  background:#eef1ff;
  display:flex;
  justify-content:center;
}

/* ===== CONTAINER ===== */
.container{
  width:100%;
  max-width:1200px;
  padding:20px;
  text-align:center;
}

/* ===== TITLE ===== */
h1{
  margin-bottom:20px;
  color:#102060;
  font-size:28px;
}

/* ===== TABLE ===== */
table{
  width:100%;
  border-collapse:collapse;
  background:#fff;
  border-radius:8px;
  overflow:hidden;
  box-shadow:0 4px 10px rgba(0,0,0,0.08);
}

th, td{
  border:1px solid #ddd;
  padding:8px;
  font-size:13px;
}

th{
  background:#f3f5ff;
  color:#102060;
  text-align:center;
}

td{
  text-align:left;
  vertical-align:middle;
}

/* ===== COLUMN WIDTHS ===== */
th:nth-child(6),
td:nth-child(6){
  min-width:90px;
}

/* ===== INPUTS ===== */
input, select{
  width:100%;
  padding:6px 10px;
  font-size:13px;
  border:1px solid #ccc;
  border-radius:4px;
}

/* ===== SELECT FIX ===== */
select{
  padding-right:28px;
  background-position:right 10px center;
}

/* ===== PREVIEW ===== */
.preview{
  text-align:center;
}

.preview img{
  width:70px;
  height:100px;
  object-fit:cover;
  border-radius:4px;
  box-shadow:0 2px 6px rgba(0,0,0,0.15);
}

/* ===== BUTTONS ===== */
button{
  margin:15px 6px 0;
  padding:12px 26px;
  background:#102060;
  color:#fff;
  border:none;
  border-radius:6px;
  font-size:14px;
  font-weight:bold;
  cursor:pointer;
  box-shadow:0 4px 8px rgba(0,0,0,0.2);
  transition:all 0.2s ease;
}

button:hover{
  background:#0b1745;
  transform:translateY(-1px);
}

button:active{
  transform:translateY(0);
  box-shadow:0 2px 4px rgba(0,0,0,0.2);
}

/* ===== MOBILE ===== */
@media(max-width:768px){
  table{
    font-size:12px;
  }

  h1{
    font-size:22px;
  }

  button{
    width:100%;
    margin-top:10px;
  }
}
</style>
</head>

<body>
<div class="container">
<h1>ðŸ“š IMmedia PDF Generator</h1>

<table>
<thead>
<tr>
<th>OUTPUT FILE</th>
<th>TITLE PDF</th>
<th>TITLE BOOK</th>
<th>AUTHOR</th>
<th>DOWNLOAD LINK</th>
<th>LANG</th>
<th>ASIN</th>
<th>Preview</th>
</tr>
</thead>
<tbody id="rows"></tbody>
</table>

<button onclick="addRow()">âž• Add Row</button>
<button onclick="generateZIP()">ðŸ“¦ Generate ZIP</button>
</div>

<script>
const rows=document.getElementById('rows');
addRow();

/* ===== JAPANESE FONT ===== */
let JP_FONT=null;
async function loadJapaneseFont(){
  if(JP_FONT) return JP_FONT;
  const r=await fetch('fonts/HeiseiKakuGo-W5.ttf');
  const b=await r.arrayBuffer();
  JP_FONT=btoa([...new Uint8Array(b)].map(x=>String.fromCharCode(x)).join(''));
  return JP_FONT;
}

/* ===== CTA BUTTON TEXT ===== */
const CTA_TEXT={
  en:"DOWNLOAD PDF",es:"DESCARGAR PDF",pt:"BAIXAR PDF",fr:"TÃ‰LÃ‰CHARGER PDF",
  de:"PDF HERUNTERLADEN",it:"SCARICA PDF",ja:"PDFã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰",ar:"ØªØ­Ù…ÙŠÙ„ PDF"
};

/* ========= SEO TEXT UNDER TITLE ========= */
const TRANSLATIONS={
  en:({t,a})=>`Download or Read Online ${t} free ebook (PDF ePub Mobi) - ${a}

Ebook PDF ${t} | EBOOK ONLINE DOWNLOAD
If you want to download free Ebook, you are in the right place to download Ebook.
Ebook/PDF ${t} DOWNLOAD in English is available for free here.
Click on the download LINK below to download Ebook ${t} PDF Download by ${a} (Author).`,

  es:({t,a})=>`Descargar o leer online ${t} ebook gratis (PDF ePub Mobi) - ${a}

Ebook PDF ${t} | DESCARGA ONLINE DE EBOOKS
Si quieres descargar un Ebook gratis, estÃ¡s en el lugar correcto.
El Ebook/PDF ${t} estÃ¡ disponible gratis aquÃ­.
Haz clic en el enlace de descarga para obtener ${t} de ${a}.`,

  pt:({t,a})=>`Baixar ou ler online ${t} ebook grÃ¡tis (PDF ePub Mobi) - ${a}

Ebook PDF ${t} | DOWNLOAD DE EBOOK
Se vocÃª quer baixar Ebook grÃ¡tis, este Ã© o lugar certo.
O Ebook/PDF ${t} estÃ¡ disponÃ­vel gratuitamente aqui.
Clique no link abaixo para baixar ${t} de ${a}.`,

  fr:({t,a})=>`TÃ©lÃ©charger ou lire en ligne ${t} ebook gratuit (PDF ePub Mobi) - ${a}

Ebook PDF ${t} | TÃ‰LÃ‰CHARGEMENT EBOOK
Si vous souhaitez tÃ©lÃ©charger un Ebook gratuit, vous Ãªtes au bon endroit.
Lâ€™Ebook ${t} est disponible gratuitement ici.`,

  de:({t,a})=>`${t} kostenloses Ebook herunterladen oder online lesen (PDF ePub Mobi) - ${a}

Ebook PDF ${t} | EBOOK DOWNLOAD
Wenn Sie ein kostenloses Ebook suchen, sind Sie hier richtig.`,

  it:({t,a})=>`Scarica o leggi online ${t} ebook gratuito (PDF ePub Mobi) - ${a}

Ebook PDF ${t} | DOWNLOAD EBOOK
Se vuoi scaricare Ebook gratuiti, sei nel posto giusto.`,

  ja:({t,a})=>`${t} ç„¡æ–™é›»å­æ›¸ç±ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¾ãŸã¯ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§èª­ã‚€ (PDF ePub Mobi) - ${a}

Ebook PDF ${t} | é›»å­æ›¸ç±ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰`,

  ar:({t,a})=>`ØªØ­Ù…ÙŠÙ„ Ø£Ùˆ Ù‚Ø±Ø§Ø¡Ø© ${t} ÙƒØªØ§Ø¨ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø¬Ø§Ù†ÙŠ (PDF ePub Mobi) - ${a}

ÙƒØªØ§Ø¨ PDF ${t} | ØªØ­Ù…ÙŠÙ„ ÙƒØªØ§Ø¨ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ`
};

/* ===== SEO KEYWORDS ===== */
const SEO_KEYWORDS={
  en:(t,a)=>`${t}, ebook pdf, free ebook, download ebook, ${a}`,
  es:(t,a)=>`${t}, ebook pdf, ebook gratis, descargar ebook, ${a}`,
  pt:(t,a)=>`${t}, ebook pdf, ebook grÃ¡tis, baixar ebook, ${a}`,
  fr:(t,a)=>`${t}, ebook pdf, ebook gratuit, tÃ©lÃ©charger ebook, ${a}`,
  de:(t,a)=>`${t}, ebook pdf, kostenloses ebook, herunterladen, ${a}`,
  it:(t,a)=>`${t}, ebook pdf, ebook gratuito, scaricare ebook, ${a}`,
  ja:(t,a)=>`${t}, é›»å­æ›¸ç±, PDF, ç„¡æ–™, ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰, ${a}`,
  ar:(t,a)=>`${t}, ÙƒØªØ§Ø¨ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ, PDF, ØªØ­Ù…ÙŠÙ„, ${a}`
};

/* ===== TEXT VARIANTS ===== */
const TEXT_VARIANTS={
  en:[
    "This preview page introduces key concepts discussed throughout the ebook.",
    "This page provides a short overview of ideas explored in the full publication.",
    "This section highlights themes that are expanded in later chapters.",
    "This preview contains selected information from the original ebook.",
    "This page summarizes important ideas presented in the complete book."
  ],
  es:[
    "Esta pÃ¡gina de vista previa introduce conceptos clave del ebook.",
    "Esta pÃ¡gina ofrece una breve descripciÃ³n de las ideas del libro.",
    "Esta secciÃ³n destaca temas desarrollados en capÃ­tulos posteriores.",
    "Esta vista previa contiene informaciÃ³n seleccionada del ebook original.",
    "Esta pÃ¡gina resume ideas importantes del libro completo."
  ],
  pt:[
    "Esta pÃ¡gina de prÃ©via apresenta conceitos-chave do ebook.",
    "Esta pÃ¡gina fornece uma visÃ£o geral das ideias do livro.",
    "Esta seÃ§Ã£o destaca temas desenvolvidos nos capÃ­tulos seguintes.",
    "Esta prÃ©via contÃ©m informaÃ§Ãµes selecionadas do ebook original.",
    "Esta pÃ¡gina resume ideias importantes do livro completo."
  ],
  fr:[
    "Cette page dâ€™aperÃ§u prÃ©sente des concepts clÃ©s de lâ€™ebook.",
    "Cette page offre un bref aperÃ§u des idÃ©es du livre.",
    "Cette section met en Ã©vidence des thÃ¨mes dÃ©veloppÃ©s plus loin.",
    "Cet aperÃ§u contient des informations sÃ©lectionnÃ©es de lâ€™ebook original.",
    "Cette page rÃ©sume des idÃ©es importantes du livre complet."
  ],
  de:[
    "Diese Vorschauseite stellt zentrale Konzepte des Ebooks vor.",
    "Diese Seite bietet einen kurzen Ãœberblick Ã¼ber die Inhalte des Buches.",
    "Dieser Abschnitt hebt Themen hervor, die spÃ¤ter vertieft werden.",
    "Diese Vorschau enthÃ¤lt ausgewÃ¤hlte Inhalte aus dem Original-Ebook.",
    "Diese Seite fasst wichtige Ideen des vollstÃ¤ndigen Buches zusammen."
  ],
  it:[
    "Questa pagina di anteprima introduce concetti chiave dellâ€™ebook.",
    "Questa pagina offre una breve panoramica delle idee del libro.",
    "Questa sezione evidenzia temi sviluppati nei capitoli successivi.",
    "Questa anteprima contiene informazioni selezionate dellâ€™ebook originale.",
    "Questa pagina riassume idee importanti del libro completo."
  ],
  ja:[
    "ã“ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒšãƒ¼ã‚¸ã§ã¯é‡è¦ãªæ¦‚å¿µã‚’ç´¹ä»‹ã—ã¦ã„ã¾ã™ã€‚",
    "ã“ã®ãƒšãƒ¼ã‚¸ã§ã¯æ›¸ç±å…¨ä½“ã®æ¦‚è¦ã‚’ç´¹ä»‹ã—ã¦ã„ã¾ã™ã€‚",
    "ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯å¾Œã®ç« ã§å±•é–‹ã•ã‚Œã‚‹ãƒ†ãƒ¼ãƒžã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚",
    "ã“ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«ã¯é¸æŠžã•ã‚ŒãŸæƒ…å ±ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚",
    "ã“ã®ãƒšãƒ¼ã‚¸ã¯æ›¸ç±ã®é‡è¦ãªãƒã‚¤ãƒ³ãƒˆã‚’è¦ç´„ã—ã¦ã„ã¾ã™ã€‚"
  ],
  ar:[
    "ØªÙ‚Ø¯Ù… Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© Ø§Ù„ØªÙ…Ù‡ÙŠØ¯ÙŠØ© Ù…ÙØ§Ù‡ÙŠÙ… Ø£Ø³Ø§Ø³ÙŠØ© Ù…Ù† Ø§Ù„ÙƒØªØ§Ø¨.",
    "ØªÙˆÙØ± Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ù…Ø®ØªØµØ±Ø© Ø¹Ù„Ù‰ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ÙƒØªØ§Ø¨.",
    "ØªØ³Ù„Ø· Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø¶ÙˆØ¡ Ø¹Ù„Ù‰ Ù…ÙˆØ¶ÙˆØ¹Ø§Øª ÙŠØªÙ… Ø´Ø±Ø­Ù‡Ø§ Ù„Ø§Ø­Ù‚Ù‹Ø§.",
    "ØªØ­ØªÙˆÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ø®ØªØ§Ø±Ø© Ù…Ù† Ø§Ù„ÙƒØªØ§Ø¨ Ø§Ù„Ø£ØµÙ„ÙŠ.",
    "ØªÙ„Ø®Øµ Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© Ø£ÙÙƒØ§Ø±Ù‹Ø§ Ù…Ù‡Ù…Ø© Ù…Ù† Ø§Ù„ÙƒØªØ§Ø¨ Ø§Ù„ÙƒØ§Ù…Ù„."
  ]
};

/* ===== CTA VARIANTS ===== */
const CTA_VARIANTS={
  en:[
    "To download the full ebook, please return to page 1 and click the download button.",
    "For access to the complete PDF, go back to page 1 and use the download link.",
    "The full ebook is available by returning to page 1 and clicking download.",
    "To continue reading, please return to the first page and download the PDF."
  ],
  es:[
    "Para descargar el ebook completo, vuelve a la pÃ¡gina 1.",
    "Para acceder al PDF completo, regresa a la pÃ¡gina 1.",
    "El ebook completo estÃ¡ disponible desde la pÃ¡gina 1.",
    "Para continuar leyendo, vuelve a la primera pÃ¡gina."
  ],
  pt:[
    "Para baixar o ebook completo, volte Ã  pÃ¡gina 1.",
    "Para acessar o PDF completo, retorne Ã  pÃ¡gina 1.",
    "O ebook completo estÃ¡ disponÃ­vel na pÃ¡gina 1.",
    "Para continuar lendo, volte Ã  primeira pÃ¡gina."
  ],
  fr:[
    "Pour tÃ©lÃ©charger lâ€™ebook complet, revenez Ã  la page 1.",
    "Pour accÃ©der au PDF complet, retournez Ã  la page 1.",
    "Lâ€™ebook complet est disponible depuis la page 1.",
    "Pour continuer la lecture, revenez Ã  la premiÃ¨re page."
  ],
  de:[
    "Um das vollstÃ¤ndige Ebook herunterzuladen, kehren Sie zu Seite 1 zurÃ¼ck.",
    "FÃ¼r den Zugriff auf das vollstÃ¤ndige PDF gehen Sie zu Seite 1.",
    "Das vollstÃ¤ndige Ebook ist Ã¼ber Seite 1 verfÃ¼gbar.",
    "Um weiterzulesen, kehren Sie zur ersten Seite zurÃ¼ck."
  ],
  it:[
    "Per scaricare lâ€™ebook completo, torna alla pagina 1.",
    "Per accedere al PDF completo, ritorna alla pagina 1.",
    "Lâ€™ebook completo Ã¨ disponibile dalla pagina 1.",
    "Per continuare a leggere, torna alla prima pagina."
  ],
  ja:[
    "å®Œå…¨ç‰ˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã«ã¯1ãƒšãƒ¼ã‚¸ç›®ã«æˆ»ã£ã¦ãã ã•ã„ã€‚",
    "å®Œå…¨ãªPDFã¯1ãƒšãƒ¼ã‚¸ç›®ã‹ã‚‰å…¥æ‰‹ã§ãã¾ã™ã€‚",
    "é›»å­æ›¸ç±ã®å®Œå…¨ç‰ˆã¯1ãƒšãƒ¼ã‚¸ç›®ã«ã‚ã‚Šã¾ã™ã€‚",
    "ç¶šãã‚’èª­ã‚€ã«ã¯æœ€åˆã®ãƒšãƒ¼ã‚¸ã«æˆ»ã£ã¦ãã ã•ã„ã€‚"
  ],
  ar:[
    "Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒØªØ§Ø¨ Ø§Ù„ÙƒØ§Ù…Ù„ØŒ Ø§Ø±Ø¬Ø¹ Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰.",
    "Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù…Ù„Ù PDF Ø§Ù„ÙƒØ§Ù…Ù„ØŒ Ø¹Ø¯ Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰.",
    "Ø§Ù„ÙƒØªØ§Ø¨ Ø§Ù„ÙƒØ§Ù…Ù„ Ù…ØªØ§Ø­ Ù…Ù† Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰.",
    "Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©ØŒ Ø§Ø±Ø¬Ø¹ Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰."
  ]
};

/* ===== UTIL ===== */
function slugify(t){
return t.normalize('NFD').replace(/[\u0300-\u036f]/g,'')
.toLowerCase().replace(/[^a-z0-9]+/g,'-').replace(/^-+|-+$/g,'');
}

async function loadImg(src){
const i=new Image();i.src=src;await new Promise(r=>i.onload=r);
const c=document.createElement('canvas');
c.width=i.width;c.height=i.height;
c.getContext('2d').drawImage(i,0,0);
return c.toDataURL('image/jpeg',0.55);
}

/* ===== UI ===== */
function addRow(){
const tr=document.createElement('tr');
tr.innerHTML=`
<td><input class="out"></td>
<td><input class="pdf"></td>
<td><input class="title"></td>
<td><input class="author"></td>
<td><input class="link"></td>
<td>
<select class="lang">
<option value="en">EN</option><option value="es">ES</option>
<option value="pt">PT</option><option value="fr">FR</option>
<option value="de">DE</option><option value="it">IT</option>
<option value="ja">JA</option><option value="ar">AR</option>
</select></td>
<td><input class="asin" oninput="preview(this)"></td>
<td class="preview"><img></td>`;
rows.appendChild(tr);
}

function preview(el){
el.closest('tr').querySelector('img').src=
`https://images-na.ssl-images-amazon.com/images/P/${el.value}.01.LZZZZZZZ.jpg`;
}

/* ===== PDF ===== */
async function buildPDF(d){
const {jsPDF}=window.jspdf;
const doc=new jsPDF({unit:'pt',format:'a4',compress:true,putOnlyUsedFonts:true});
const W=595,H=842;

doc.setProperties({
  title:d.title_pdf,
  author:d.author,
  subject:d.title_book,
  keywords:(SEO_KEYWORDS[d.lang]||SEO_KEYWORDS.en)(d.title_book,d.author)
});

const cover=new Image();
cover.src=`https://images-na.ssl-images-amazon.com/images/P/${d.asin}.01.LZZZZZZZ.jpg`;
await new Promise(r=>cover.onload=r);
doc.addImage(cover,'JPEG',(W-220)/2,40,220,330);

doc.setFont('times','bold');doc.setFontSize(18);
doc.text(d.title_pdf,W/2,410,{align:'center'});

if(d.lang==='ja'){
  const f=await loadJapaneseFont();
  doc.addFileToVFS('jp.ttf',f);
  doc.addFont('jp.ttf','jp','normal');
  doc.setFont('jp','normal');
}else doc.setFont('times','normal');

doc.setFontSize(12);
doc.text(TRANSLATIONS[d.lang]({t:d.title_book,a:d.author}),W/2,460,{align:'center',maxWidth:420});

const x=(W-280)/2,y=685;
doc.setFillColor(16,32,96);
doc.roundedRect(x,y,280,52,10,10,'F');
doc.setTextColor(255,255,255);doc.setFontSize(16);
doc.text(CTA_TEXT[d.lang],W/2,y+32,{align:'center'});
doc.link(x,y,280,52,{url:d.link});
doc.setTextColor(0,0,0);

const total=Math.random()>0.5?21:20;
for(let i=1;i<total;i++){
doc.addPage();
if(i<10){
  doc.addImage(await loadImg(`previews/p${(i%4)+1}.jpg`),'JPEG',0,0,W,H);
}else{
  const tv=TEXT_VARIANTS[d.lang]||TEXT_VARIANTS.en;
  const cv=CTA_VARIANTS[d.lang]||CTA_VARIANTS.en;
  doc.text(
    `${d.title_book}\n\n${tv[i%tv.length]}\n\n${cv[i%cv.length]}`,
    40,80,{maxWidth:520}
  );
}}
return doc.output('blob');
}

/* ===== ZIP ===== */
async function generateZIP(){
const zip=new JSZip();
for(const tr of rows.querySelectorAll('tr')){
const d={
output:tr.querySelector('.out').value,
title_pdf:tr.querySelector('.pdf').value,
title_book:tr.querySelector('.title').value,
author:tr.querySelector('.author').value,
link:tr.querySelector('.link').value,
lang:tr.querySelector('.lang').value,
asin:tr.querySelector('.asin').value
};
if(!d.asin)continue;
const name=d.lang==='ja'?`${d.asin}.pdf`:`${slugify(d.output||d.title_book)}.pdf`;
zip.file(name,await buildPDF(d));
}
saveAs(await zip.generateAsync({type:'blob'}),'bulk-pdfs.zip');
}
</script>
</body>
</html>
