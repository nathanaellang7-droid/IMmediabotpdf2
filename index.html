<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SEO PDF Bulk Generator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

<style>
body{font-family:Arial;background:#eef1ff}
.container{max-width:1200px;margin:auto;padding:20px}
table{width:100%;border-collapse:collapse}
th,td{border:1px solid #ddd;padding:8px}
input,select{width:100%;padding:6px}
.preview img{width:70px;height:100px;object-fit:cover}
button{padding:12px 22px;margin-top:15px;background:#102060;color:#fff;border:none;cursor:pointer}
</style>
</head>

<body>
<div class="container">
<h1>ðŸ“˜ SEO PDF Bulk Generator</h1>

<table>
<thead>
<tr>
<th>OUTPUT FILE</th>
<th>TITLE PDF</th>
<th>TITLE BOOK</th>
<th>AUTHOR</th>
<th>DOWNLOAD LINK</th>
<th>LANG</th>
<th>ASIN</th>
<th>Preview</th>
</tr>
</thead>
<tbody id="rows"></tbody>
</table>

<button onclick="addRow()">âž• Add Row</button>
<button onclick="generateZIP()">ðŸ“¦ Generate ZIP</button>
</div>

<script>
const rows=document.getElementById('rows');
addRow();

/* ========= JAPANESE FONT ========= */
let JP_FONT=null;
async function loadJapaneseFont(){
  if(JP_FONT) return JP_FONT;
  const r=await fetch('fonts/HeiseiKakuGo-W5.ttf');
  const b=await r.arrayBuffer();
  JP_FONT=btoa([...new Uint8Array(b)].map(x=>String.fromCharCode(x)).join(''));
  return JP_FONT;
}

/* ========= CTA TEXT ========= */
const CTA_TEXT={
  en:"DOWNLOAD PDF",
  es:"DESCARGAR PDF",
  pt:"BAIXAR PDF",
  fr:"TÃ‰LÃ‰CHARGER PDF",
  de:"PDF HERUNTERLADEN",
  it:"SCARICA PDF",
  ja:"PDFã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰",
  ar:"ØªØ­Ù…ÙŠÙ„ PDF"
};

/* ========= SEO TRANSLATIONS ========= */
const TRANSLATIONS={
  en:({t,a})=>`Download or Read Online ${t} free ebook (PDF ePub Mobi) - ${a}

Ebook PDF ${t} | EBOOK ONLINE DOWNLOAD
If you want to download free Ebook, you are in the right place.
Click the download button below.`,

  es:({t,a})=>`Descargar o leer online ${t} ebook gratis (PDF ePub Mobi) - ${a}

Ebook PDF ${t} | DESCARGA ONLINE DE EBOOK
Haz clic en el botÃ³n de descarga.`,

  pt:({t,a})=>`Baixar ou ler online ${t} ebook grÃ¡tis (PDF ePub Mobi) - ${a}

Ebook PDF ${t} | DOWNLOAD ONLINE DE EBOOK
Clique no botÃ£o abaixo.`,

  fr:({t,a})=>`TÃ©lÃ©charger ou lire en ligne ${t} ebook gratuit (PDF ePub Mobi) - ${a}

Ebook PDF ${t} | TÃ‰LÃ‰CHARGEMENT EBOOK
Cliquez sur le bouton ci-dessous.`,

  de:({t,a})=>`${t} kostenloses Ebook herunterladen oder online lesen - ${a}

Ebook PDF ${t} | EBOOK DOWNLOAD
Klicken Sie auf den Download-Button.`,

  it:({t,a})=>`Scarica o leggi online ${t} ebook gratuito (PDF ePub Mobi) - ${a}

Ebook PDF ${t} | DOWNLOAD EBOOK
Clicca sul pulsante.`,

  ja:({t,a})=>`${t} ã‚’ç„¡æ–™ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¾ãŸã¯ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§èª­ã‚€ï¼ˆPDFãƒ»ePubãƒ»Mobiï¼‰ - ${a}

é›»å­æ›¸ç±PDF ${t}ï½œã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
ä¸‹ã®ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚`,

  ar:({t,a})=>`ØªØ­Ù…ÙŠÙ„ Ø£Ùˆ Ù‚Ø±Ø§Ø¡Ø© ${t} ÙƒØªØ§Ø¨ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø¬Ø§Ù†ÙŠ (PDF ePub Mobi) - ${a}

ÙƒØªØ§Ø¨ PDF ${t}
Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø£Ø¯Ù†Ø§Ù‡.`
};

/* ========= SEO KEYWORDS PER LANGUAGE ========= */
const SEO_KEYWORDS={
  en:(t,a)=>`${t}, ebook pdf, free ebook, download ebook, read online, ${a}`,
  es:(t,a)=>`${t}, ebook pdf, ebook gratis, descargar ebook, leer online, ${a}`,
  pt:(t,a)=>`${t}, ebook pdf, ebook grÃ¡tis, baixar ebook, ler online, ${a}`,
  fr:(t,a)=>`${t}, ebook pdf, ebook gratuit, tÃ©lÃ©charger ebook, lire en ligne, ${a}`,
  de:(t,a)=>`${t}, ebook pdf, kostenloses ebook, herunterladen, online lesen, ${a}`,
  it:(t,a)=>`${t}, ebook pdf, ebook gratuito, scaricare ebook, leggere online, ${a}`,
  ja:(t,a)=>`${t}, é›»å­æ›¸ç±, PDF, ç„¡æ–™, ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰, ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§èª­ã‚€, ${a}`,
  ar:(t,a)=>`${t}, ÙƒØªØ§Ø¨ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ, PDF, ØªØ­Ù…ÙŠÙ„, Ù‚Ø±Ø§Ø¡Ø© Ø¹Ø¨Ø± Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª, ${a}`
};

/* ========= PAGE TEXT VARIATION ========= */
const PAGE_TEXT={
  en:["This is a preview page.","Limited preview of this ebook.","Access the full ebook via download.","Preview content only.","Continue by downloading the PDF."],
  es:["PÃ¡gina de vista previa.","Vista previa limitada.","Accede al ebook completo.","Contenido de vista previa.","Descarga el PDF."],
  pt:["PÃ¡gina de prÃ©via.","PrÃ©via limitada.","Acesse o ebook completo.","ConteÃºdo de prÃ©via.","Baixe o PDF."],
  fr:["Page dâ€™aperÃ§u.","AperÃ§u limitÃ©.","AccÃ©dez Ã  lâ€™ebook complet.","Contenu dâ€™aperÃ§u.","TÃ©lÃ©chargez le PDF."],
  de:["Vorschauseite.","Begrenzte Vorschau.","VollstÃ¤ndiges Ebook herunterladen.","Vorschauinhalt.","PDF herunterladen."],
  it:["Pagina di anteprima.","Anteprima limitata.","Accedi allâ€™ebook completo.","Contenuto di anteprima.","Scarica il PDF."],
  ja:["ã“ã‚Œã¯ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒšãƒ¼ã‚¸ã§ã™ã€‚","é›»å­æ›¸ç±ã®ä¸€éƒ¨ã§ã™ã€‚","å®Œå…¨ç‰ˆã¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™ã€‚","ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å†…å®¹ã§ã™ã€‚","PDFã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚"],
  ar:["Ù‡Ø°Ù‡ ØµÙØ­Ø© Ù…Ø¹Ø§ÙŠÙ†Ø©.","Ù…Ø¹Ø§ÙŠÙ†Ø© Ù…Ø­Ø¯ÙˆØ¯Ø©.","Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„ÙƒØªØ§Ø¨ Ø§Ù„ÙƒØ§Ù…Ù„.","Ù…Ø­ØªÙˆÙ‰ Ù…Ø¹Ø§ÙŠÙ†Ø©.","Ù‚Ù… Ø¨ØªØ­Ù…ÙŠÙ„ PDF."]
};

/* ========= UTIL ========= */
function slugify(t){
return t.normalize('NFD').replace(/[\u0300-\u036f]/g,'')
.toLowerCase().replace(/[^a-z0-9]+/g,'-').replace(/^-+|-+$/g,'');
}

async function loadImg(src){
const i=new Image();i.src=src;
await new Promise(r=>i.onload=r);
const c=document.createElement('canvas');
c.width=i.width;c.height=i.height;
c.getContext('2d').drawImage(i,0,0);
return c.toDataURL('image/jpeg',0.55);
}

/* ========= UI ========= */
function addRow(){
const tr=document.createElement('tr');
tr.innerHTML=`
<td><input class="out"></td>
<td><input class="pdf"></td>
<td><input class="title"></td>
<td><input class="author"></td>
<td><input class="link"></td>
<td>
<select class="lang">
<option value="en">EN</option><option value="es">ES</option>
<option value="pt">PT</option><option value="fr">FR</option>
<option value="de">DE</option><option value="it">IT</option>
<option value="ja">JA</option><option value="ar">AR</option>
</select></td>
<td><input class="asin" oninput="preview(this)"></td>
<td class="preview"><img></td>`;
rows.appendChild(tr);
}

function preview(el){
el.closest('tr').querySelector('img').src=
`https://images-na.ssl-images-amazon.com/images/P/${el.value}.01.LZZZZZZZ.jpg`;
}

/* ========= PDF ========= */
async function buildPDF(d){
const {jsPDF}=window.jspdf;
const doc=new jsPDF({unit:'pt',format:'a4',compress:true,putOnlyUsedFonts:true});
const W=595,H=842;

/* SEO METADATA */
doc.setProperties({
  title:d.title_pdf,
  author:d.author,
  subject:d.title_book,
  keywords:(SEO_KEYWORDS[d.lang]||SEO_KEYWORDS.en)(d.title_book,d.author)
});

/* COVER */
const cover=new Image();
cover.src=`https://images-na.ssl-images-amazon.com/images/P/${d.asin}.01.LZZZZZZZ.jpg`;
await new Promise(r=>cover.onload=r);
doc.addImage(cover,'JPEG',(W-220)/2,40,220,330);

/* TITLE */
doc.setFont('times','bold');doc.setFontSize(18);
doc.text(d.title_pdf,W/2,410,{align:'center'});

/* BODY FONT */
if(d.lang==='ja'){
  const f=await loadJapaneseFont();
  doc.addFileToVFS('jp.ttf',f);
  doc.addFont('jp.ttf','jp','normal');
  doc.setFont('jp','normal');
}else doc.setFont('times','normal');

doc.setFontSize(12);
doc.text(TRANSLATIONS[d.lang]({t:d.title_book,a:d.author}),W/2,460,{align:'center',maxWidth:420});

/* BUTTON */
const x=(W-280)/2,y=685;
doc.setFillColor(16,32,96);
doc.roundedRect(x,y,280,52,10,10,'F');
doc.setTextColor(255,255,255);doc.setFontSize(16);
doc.text(CTA_TEXT[d.lang],W/2,y+32,{align:'center'});
doc.link(x,y,280,52,{url:d.link});
doc.setTextColor(0,0,0);

/* PAGES */
const total=Math.random()>0.5?21:20;
for(let i=1;i<total;i++){
doc.addPage();
if(i<10){
  doc.addImage(await loadImg(`previews/p${(i%4)+1}.jpg`),'JPEG',0,0,W,H);
}else{
  const pool=PAGE_TEXT[d.lang]||PAGE_TEXT.en;
  doc.text(`${d.title_book}\n\n${pool[i%pool.length]}\n\n${CTA_TEXT[d.lang]}`,40,80,{maxWidth:520});
}}
return doc.output('blob');
}

/* ========= ZIP ========= */
async function generateZIP(){
const zip=new JSZip();
for(const tr of rows.querySelectorAll('tr')){
const d={
output:tr.querySelector('.out').value,
title_pdf:tr.querySelector('.pdf').value,
title_book:tr.querySelector('.title').value,
author:tr.querySelector('.author').value,
link:tr.querySelector('.link').value,
lang:tr.querySelector('.lang').value,
asin:tr.querySelector('.asin').value
};
if(!d.asin)continue;
const name=d.lang==='ja'?`${d.asin}.pdf`:`${slugify(d.output||d.title_book)}.pdf`;
zip.file(name,await buildPDF(d));
}
saveAs(await zip.generateAsync({type:'blob'}),'bulk-pdfs.zip');
}
</script>
</body>
</html>
